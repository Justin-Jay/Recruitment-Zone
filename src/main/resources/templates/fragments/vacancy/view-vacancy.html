<div class="container-fluid main-page-section">

    <div th:insert="~{fragments/layout/response-messages :: genericMessage(${findVacancyResponse})}"></div>
    <div th:insert="~{fragments/layout/response-messages :: genericMessage(${saveVacancyResponse})}"></div>

    <table class="table table-striped table-responsive">

        <thead>

        <tr>
            <th>Vacancy ID</th>
            <th>Client</th>
            <th>No. Applications</th>
            <th>Location</th>
            <th>Publish Date</th>
            <th>Status</th>

            <th>Update Vacancy</th>
        </tr>
        </thead>
        <tbody>

        <tr th:each="foundVacancy : ${vacancy}">
            <td th:text="*{foundVacancy.vacancyID}"></td>
            <td th:text="${foundVacancy.client.name}"></td>
            <td th:text="${foundVacancy.getApplicationsSize + ' total applications '}"></td>
            <td th:text="${foundVacancy.location}"></td>
            <td th:text="${foundVacancy.publish_date}"></td>
            <td th:text="${foundVacancy.status}"></td>

            <td>
                <form action="#" th:action="@{/Vacancy/update-vacancy}" th:method="post">
                    <!-- Hidden input field to include the vacancyID in the POST request -->
                    <input type="hidden" name="vacancyID" th:value="*{foundVacancy.vacancyID}"/>
                    <!-- Submit button to trigger the form submission -->
                    <button class="btn normal-button"
                            hx-post="/Vacancy/update-vacancy"
                            hx-target="#main-page-section"
                            hx-swap="innerHTML"
                            hx-include="[vacancyID='vacancyID']">Update Vacancy
                    </button>
                </form>

            </td>


        </tr>
        </tbody>
    </table>
</div>